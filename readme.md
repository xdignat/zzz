# Тестовое задание на позицию php бэкенд разработчика

## Реализовать API для подписки на новости.
 
API должно выполнять следующие задачи:
1. Подписка пользователя по email на нужную рубрику
1. Удаление подписки на конкретную рубрику
1. Удаление подписки на все рубрики
1. Отображение подписок пользователя и отображение всех пользователей переданной рубрики 
   * Эти данные должны быть доступны только после авторизации. Например через открытый\закрытый ключ с последующим использование токена. 
     (Ключи выдаются доверенному приложению которое и будет отображать данные из API (реализация приложения не требуется)) 
   * Так как этих данных может быть много, то этим методы должны принимать дополнительные параметры limit и offset ограничивающие выдачу.
1. Поддержка версионности API с наследованием функционала. Версия передается в заголовке request. * В v2 нужно добавить:
   - К методу подписки обязательный параметр "Имя пользователя".
   - Новый метод который генерирует ключ для возможности отписки. 
     Этот ключ должен быть уникальным для каждой рубрики у каждого пользователя. 
     Метод для удаления подписки должен принимать этот ключ вторым параметром.
   - Уметь отдавать ответы в разных форматах (json\xml) на выбор.
 
## Требования
1. Фреймворк Laravel 5 (на самом деле любой современный фреймворк подойдет, но Laravel предпочтительнее так как мы разрабатываем с его использованием)
1. Миграции
1. Валидация параметров.


# Установка проекта
Исходники
```
git init
git remote add origin git@github.com:xdignat/zzz.git
git fetch --all
git checkout master
```
Инициализация
```
docker-compose build app
docker-compose up -d
docker-compose exec app composer install
docker-compose exec app php artisan migrate
```
Проверка в баузере
```http://localhost:8080``` adminer - редактор БД (пользователь: user, пароль: pass)

```http://localhost/api/status``` поверка проекта

Все остальные методы работают через POST

Можно начать с получения токена: ```http://localhost/api/session_open```
```json
{
  "user": "root",
  "password": "root"
}
```
Можно использовать [файл экспорта для Postman](docs/zzz.postman_collection.json) 

# Версии

```
Laravel: 5.6
MySql: 5.7
php: 7.4
Docker: 20.10
Docker-composer: 1.28
```

# Результат

- [Методы](docs/api.md)


[Форматирование документа](https://docs.github.com/en/github/writing-on-github/basic-writing-and-formatting-syntax)
